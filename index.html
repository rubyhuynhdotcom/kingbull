<!DOCTYPE html>
<html lang="vi">
<head>
  <!-- ============================================================
       KINGBULL Aquaculture Hub ‚Äî Landing Page (Pure HTML/CSS/JS)
       Ph·∫ßn 1/3: Head, Tokens, Global Styles, Header, Hero, Value Cards
       ============================================================ -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KINGBULL Aquaculture Hub ‚Äî Aquafeed B2B</title>
  <meta name="description" content="Landing page gi·ªõi thi·ªáu & t∆∞ v·∫•n chuy√™n s√¢u cho KINGBULL Vi·ªát Nam (Aquafeed B2B)" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22><text y='32' font-size='32'>üêü</text></svg>">
  <link rel="preconnect" href="https://unpkg.com">

  <!-- Leaflet CSS: ƒë·∫∑t tr∆∞·ªõc ƒë·ªÉ tr√°nh gi·∫≠t layout khi ph·∫ßn b·∫£n ƒë·ªì load ·ªü ph·∫ßn 2/3 -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    /* ======================================================================
       0) DESIGN TOKENS ‚Äî M√†u th∆∞∆°ng hi·ªáu, b√°n k√≠nh, b√≥ng ƒë·ªï, font scale, motion
       ====================================================================== */
    :root{
      /* Brand palette */
      --kb-blue: #0EA4E8;     /* Primary Blue */
      --kb-green:#2BCB53;     /* Growth Green */
      --kb-gold: #FFBE00;     /* Profit Gold */

      /* Surfaces & Text (Dark landing style gi·ªëng m·∫´u) */
      --bg:      #0b1220;     /* page background */
      --panel:   #0f172a;     /* panel dark */
      --panel-2: #0c1527;     /* panel subtle */
      --glass:   rgba(255,255,255,.06);
      --stroke:  rgba(255,255,255,.08);
      --text:    #e6f0ff;     /* main text */
      --muted:   #9fb1c9;     /* secondary text */
      --ring:    #7ed3f7;     /* focus ring */

      /* Elevations & Radii */
      --radius: 16px;
      --radius-lg: 22px;
      --shadow-1: 0 10px 30px rgba(3,10,32,.25);
      --shadow-2: 0 22px 70px rgba(3,10,32,.38);
      --shadow-3: 0 40px 120px rgba(3,10,32,.45);

      /* Typography */
      --fs-hero: clamp(36px, 6.5vw, 68px);
      --fs-h2:   clamp(22px, 3.2vw, 32px);
      --fs-h3:   clamp(18px, 2.4vw, 22px);
      --fs-lead: clamp(15px, 2.1vw, 18px);
      --lh-hero: 1.05;

      /* Motion */
      --dur-1: .22s;
      --dur-2: .45s;
      --dur-3: .85s;
      --bezier: cubic-bezier(.22,.61,.36,1);
    }

    /* ======================================================================
       1) GLOBAL RESET & BASE
       ====================================================================== */
    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% -10%, #0ea4e814, transparent 60%),
        radial-gradient(1000px 580px at 110% -10%, #2bcb5316, transparent 60%),
        linear-gradient(180deg, #0b1220 0%, #0c1324 70%, #0b1220 100%);
      font: 15px/1.65 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    img{max-width:100%; display:block}
    a{color:var(--kb-blue); text-decoration:none}
    a:hover{filter:saturate(115%)}
    a:focus-visible,button:focus-visible,select:focus-visible,input:focus-visible,textarea:focus-visible{
      outline:3px solid var(--ring); outline-offset:3px; border-radius:12px;
    }
    ::selection{background:color-mix(in oklab, var(--kb-blue) 30%, transparent); color:#fff}

    /* ======================================================================
       2) LAYOUT PRIMITIVES
       ====================================================================== */
    .container{max-width:1240px; margin:auto; padding:48px 20px}
    .section{scroll-margin-top:92px}
    .row{display:grid; gap:18px}
    @media(min-width:768px){
      .row.col-2{grid-template-columns:repeat(2,1fr)}
      .row.col-3{grid-template-columns:repeat(3,1fr)}
      .row.col-4{grid-template-columns:repeat(4,1fr)}
      .row.col-5{grid-template-columns:repeat(5,1fr)}
    }
    .k-m{margin-top:16px}
    .k-m2{margin-top:24px}
    .k-m3{margin-top:36px}
    .muted{color:var(--muted)}

    /* ======================================================================
       3) COMPONENTS ‚Äî Pills, Buttons, Cards, Titles, Divider
       ====================================================================== */
    .pill{
      display:inline-flex; align-items:center; gap:6px;
      background:#122038; border:1px solid var(--stroke); color:#cfe4ff;
      padding:6px 10px; border-radius:999px; font-weight:900; font-size:12px; letter-spacing:.24px
    }

    .btn{
      --bg:#fff; --fg:#0b1220; --bd:rgba(255,255,255,.1);
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:12px 16px; border-radius:14px; border:1px solid var(--bd);
      background:var(--bg); color:var(--fg);
      font-weight:1000; letter-spacing:.22px; cursor:pointer;
      transition: transform var(--dur-1) var(--bezier), box-shadow var(--dur-1) var(--bezier), filter var(--dur-1) var(--bezier), background var(--dur-1) var(--bezier);
      will-change: transform;
    }
    .btn:hover{transform:translateY(-2px); box-shadow:var(--shadow-1)}
    .btn:active{transform:translateY(0)}
    .btn.primary{--bg:linear-gradient(180deg, var(--kb-blue), #0990c9); --fg:#fff; --bd:transparent}
    .btn.green{--bg:linear-gradient(180deg, var(--kb-green), #23b346); --fg:#061418; --bd:transparent}
    .btn.ghost{--bg:transparent; --fg:#eaf3ff; --bd:var(--stroke)}
    .btn.icon{padding:10px 12px}

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--stroke); border-radius:var(--radius);
      box-shadow:var(--shadow-1); backdrop-filter:saturate(150%) blur(8px)
    }
    .pad{padding:20px}
    .pad-lg{padding:28px}
    .pad-sm{padding:12px}

    .title{font-size:var(--fs-h2); font-weight:1000; display:flex; align-items:center; gap:12px}
    .title .bar{width:8px; height:26px; border-radius:8px; background:linear-gradient(180deg, var(--kb-blue), var(--kb-green))}
    .h1{font-size:var(--fs-hero); font-weight:1000; line-height:var(--lh-hero); letter-spacing:.2px; margin:10px 0}
    .lead{font-size:var(--fs-lead); color:#d6e7ff}

    .divider{height:1px; background:linear-gradient(90deg, transparent, #21324a, transparent)}

    /* ======================================================================
       4) NAVBAR ‚Äî Sticky, co l·∫°i khi cu·ªôn, active highlight
       ====================================================================== */
    header.nav{
      position:sticky; top:0; z-index:1000;
      background:color-mix(in oklab, #0b1220 86%, transparent);
      backdrop-filter:saturate(160%) blur(10px);
      border-bottom:1px solid var(--stroke);
      transition:box-shadow var(--dur-2) var(--bezier), transform var(--dur-1) var(--bezier), background var(--dur-2) var(--bezier);
    }
    .nav-inner{
      height:78px; max-width:1240px; margin:auto; padding:0 16px;
      display:flex; align-items:center; justify-content:space-between; gap:16px
    }
    .brand{display:flex; align-items:center; gap:10px; font-weight:1000; letter-spacing:.7px}
    .brand .mark{font-size:22px}
    .brand .mark .a{color:var(--kb-blue)}
    .brand .mark .b{color:var(--kb-green)}
    /* Theo y√™u c·∫ßu: KH√îNG hi·ªÉn th·ªã slogan c·∫°nh logo */

    .nav-list{display:none; gap:6px; flex-wrap:wrap}
    @media(min-width:1024px){.nav-list{display:flex}}
    .nav-link{
      border:0; background:transparent; padding:10px 12px; border-radius:10px;
      font-weight:900; color:#d8e6ff; cursor:pointer; transition:background var(--dur-1) var(--bezier), color var(--dur-1) var(--bezier)
    }
    .nav-link[aria-current="page"], .nav-link:hover{background:#10233d; color:#ffffff}

    .mobile-select{
      display:block; background:#0f1d33; color:#d8e6ff; border:1px solid var(--stroke);
      padding:10px 12px; border-radius:10px
    }
    @media(min-width:1024px){ .mobile-select{display:none} }

    .shrink{transform:translateY(-1px); box-shadow:0 12px 40px rgba(0,0,0,.25)}

    /* ======================================================================
       5) HERO ‚Äî Mesh gradient + subtle sparkles + parallax text
       ====================================================================== */
    .hero{
      position:relative; overflow:hidden;
      background:
        radial-gradient(800px 300px at -10% -20%, #0ea4e814, transparent 60%),
        radial-gradient(700px 280px at 120% -20%, #2bcb5314, transparent 60%),
        linear-gradient(180deg, transparent, #0b1426 65%, transparent);
      isolation:isolate;
    }
    .mesh{
      position:absolute; inset:-10% -30% auto -20%; height:70vh; min-height:360px; z-index:0; pointer-events:none;
      background:
        radial-gradient(600px 360px at 12% 20%, color-mix(in oklab, var(--kb-blue) 36%, transparent), transparent 60%),
        radial-gradient(520px 340px at 86% 16%, color-mix(in oklab, var(--kb-green) 30%, transparent), transparent 62%),
        radial-gradient(540px 360px at 50% 80%, color-mix(in oklab, var(--kb-gold) 28%, transparent), transparent 64%);
      animation:floatMesh 16s var(--bezier) infinite alternate;
      filter:saturate(130%) blur(1px);
    }
    @keyframes floatMesh{
      0%{transform:translate3d(0,-10px,0) scale(1)}
      100%{transform:translate3d(0,10px,0) scale(1.03)}
    }
    .sparkles{
      position:absolute; inset:0; pointer-events:none; z-index:0; opacity:.35;
      background:
        radial-gradient(2px 2px at 10% 20%, #fff 35%, transparent 40%),
        radial-gradient(2px 2px at 30% 70%, #fff 35%, transparent 40%),
        radial-gradient(2px 2px at 60% 30%, #fff 35%, transparent 40%),
        radial-gradient(2px 2px at 80% 60%, #fff 35%, transparent 40%);
      animation: twinkle 5s linear infinite;
      mix-blend-mode:screen;
    }
    @keyframes twinkle{
      from{opacity:.2; transform:translateY(0)}
      50%{opacity:.5; transform:translateY(2px)}
      to{opacity:.2; transform:translateY(0)}
    }
    .hero-grid{position:relative; z-index:1; display:grid; gap:22px; grid-template-columns:1fr}
    @media(min-width:960px){ .hero-grid{grid-template-columns:1.15fr 1fr} }
    .lift{transition:transform var(--dur-1) var(--bezier), box-shadow var(--dur-1) var(--bezier)}
    .lift:hover{transform:translateY(-3px); box-shadow:var(--shadow-2)}

    .stats{display:grid; gap:12px; grid-template-columns:repeat(3,1fr)}
    .stat{border:1px solid var(--stroke); background:var(--glass); border-radius:14px; padding:14px; box-shadow:0 8px 24px rgba(0,0,0,.15)}
    .stat small{color:#9fb1c9; text-transform:uppercase; letter-spacing:.3px}

    /* ======================================================================
       6) REVEAL EFFECT ‚Äî IntersectionObserver (add class .inview)
       ====================================================================== */
    .reveal{opacity:.001; transform:translateY(16px) scale(.98); filter:blur(2px)}
    .reveal.inview{opacity:1; transform:none; filter:none; transition:opacity .7s var(--bezier), transform .7s var(--bezier), filter .7s var(--bezier)}

    /* ======================================================================
       7) FORMS ‚Äî chung cho c√°c ph·∫ßn sau (support, logistics, rd, dealer)
       ====================================================================== */
    input,select,textarea{
      width:100%; padding:12px 14px; border-radius:12px; border:1px solid #1b2a45;
      background:#0f1d33; color:#d8e6ff; transition: box-shadow var(--dur-1) var(--bezier), border-color var(--dur-1) var(--bezier)
    }
    input::placeholder,textarea::placeholder{color:#7e94b7}
    input:hover,select:hover,textarea:hover{box-shadow:0 0 0 4px color-mix(in oklab, var(--kb-blue) 20%, transparent)}
    input:focus,select:focus,textarea:focus{border-color:#2a67a2; box-shadow:0 0 0 4px color-mix(in oklab, var(--kb-blue) 28%, transparent)}
    label span{display:block; font-size:12px; color:#8fb4e6; margin-bottom:6px}

    /* ======================================================================
       8) EXTRA UTILS ‚Äî nhi·ªÅu class ti·ªán √≠ch ƒë·ªÉ ph·∫ßn 2/3-3/3 d√πng
       ====================================================================== */
    .grid{display:grid}
    .flex{display:flex}
    .flex-col{flex-direction:column}
    .items-center{align-items:center}
    .justify-between{justify-content:space-between}
    .justify-center{justify-content:center}
    .gap-4{gap:16px}
    .gap-6{gap:24px}
    .gap-8{gap:32px}
    .text-center{text-align:center}
    .text-right{text-align:right}
    .w-full{width:100%}
    .max-w-600{max-width:600px}
    .max-w-720{max-width:720px}
    .max-w-920{max-width:920px}
    .rounded{border-radius:var(--radius)}
    .rounded-lg{border-radius:var(--radius-lg)}
    .border{border:1px solid var(--stroke)}
    .bg-panel{background:var(--panel)}
    .bg-panel2{background:var(--panel-2)}
    .thin{font-weight:300}
    .semi{font-weight:600}
    .bold{font-weight:800}
    .shadow-1{box-shadow:var(--shadow-1)}
    .shadow-2{box-shadow:var(--shadow-2)}
    .shadow-3{box-shadow:var(--shadow-3)}
    .opacity-70{opacity:.7}
    .opacity-85{opacity:.85}
    .hidden{display:none !important}
    .visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* ======================================================================
       9) DECORATIONS ‚Äî gradient outline, animated underline cho heading
       ====================================================================== */
    .title-underline{
      height:3px; width:100%; opacity:.28; border-radius:999px;
      background:linear-gradient(90deg, var(--kb-blue), var(--kb-green), var(--kb-gold))
    }
    .underline-animated{
      position:relative; display:inline-block; padding-bottom:6px;
    }
    .underline-animated::after{
      content:""; position:absolute; left:0; bottom:0; height:2px; width:0%;
      background:linear-gradient(90deg, var(--kb-blue), var(--kb-green), var(--kb-gold));
      border-radius:999px; transition:width .6s var(--bezier)
    }
    .underline-animated:hover::after{width:100%}

    /* ======================================================================
       10) ACCESSIBILITY ‚Äî Skip link
       ====================================================================== */
    .skip{
      position:absolute; top:8px; left:8px; background:#0f1d33; color:#fff;
      padding:6px 10px; border-radius:10px; box-shadow:var(--shadow-1); z-index:1200
    }

    /* ======================================================================
       11) REDUCED MOTION
       ====================================================================== */
    @media (prefers-reduced-motion: reduce){
      .reveal{opacity:1; transform:none; filter:none; transition:none}
      .mesh{animation:none}
      .sparkles{animation:none}
      html{scroll-behavior:auto}
      .btn,.lift{transition:none}
      header.nav{transition:none}
    }
  </style>
</head>

<body>
  <a class="visually-hidden skip" href="#main">B·ªè qua ƒë·∫øn n·ªôi dung ch√≠nh</a>

  <!-- ============================================================
       HEADER / NAVBAR (KH√îNG c√≥ slogan c·∫°nh logo)
       ============================================================ -->
  <header class="nav" id="navbar" role="navigation" aria-label="Thanh ƒëi·ªÅu h∆∞·ªõng">
    <div class="nav-inner">
      <a class="brand" href="#home" aria-label="Trang ch·ªß KINGBULL">
        <div class="mark"><span class="a">KING</span><span class="b">BULL</span></div>
      </a>

      <nav class="nav-list" aria-label="ƒêi·ªÅu h∆∞·ªõng">
        <a class="nav-link" href="#home">Home</a>
        <a class="nav-link" href="#cases">Case Study</a>
        <a class="nav-link" href="#library">Th∆∞ vi·ªán PDF</a>
        <a class="nav-link" href="#videos">Video</a>
        <a class="nav-link" href="#dealer">ƒê·∫°i l√Ω</a>
        <a class="nav-link" href="#supply">B·∫£n ƒë·ªì</a>
        <a class="nav-link" href="#support">H·ªó tr·ª£</a>
        <a class="nav-link" href="#logistics">Logistics</a>
        <a class="nav-link" href="#news">Tin t·ª©c</a>
        <a class="nav-link" href="#rd">R&D</a>
      </nav>

      <select class="mobile-select" id="mobileSelect" aria-label="Ch·ªçn m·ª•c">
        <option value="#home">Home</option>
        <option value="#cases">Case Study</option>
        <option value="#library">Th∆∞ vi·ªán PDF</option>
        <option value="#videos">Video</option>
        <option value="#dealer">ƒê·∫°i l√Ω</option>
        <option value="#supply">B·∫£n ƒë·ªì</option>
        <option value="#support">H·ªó tr·ª£</option>
        <option value="#logistics">Logistics</option>
        <option value="#news">Tin t·ª©c</option>
        <option value="#rd">R&D</option>
      </select>
    </div>
  </header>

  <!-- ============================================================
       MAIN ‚Äî PH·∫¶N 1/3
       ============================================================ -->
  <main id="main">

    <!-- ========================================================
         HERO
         ======================================================== -->
    <section id="home" class="section hero" aria-label="Ph·∫ßn gi·ªõi thi·ªáu ƒë·∫ßu trang">
      <div class="mesh" aria-hidden="true"></div>
      <div class="sparkles" aria-hidden="true"></div>

      <div class="container hero-grid">
        <!-- Left: Copy -->
        <div class="reveal">
          <span class="pill">Aquafeed B2B ‚Ä¢ Vi·ªát Nam</span>
          <h1 class="h1 lift" id="heroTitle">
            KINGBULL ‚Äî <span style="color:var(--kb-blue)">Chuy√™n nghi·ªáp</span>,
            <span style="color:var(--kb-green)">Tin c·∫≠y</span>,
            <span style="color:var(--kb-gold)">H∆∞·ªõng k·∫øt qu·∫£</span>
          </h1>
          <p class="lead">
            NƒÉng l·ª±c s·∫£n xu·∫•t & cung ·ª©ng quy m√¥ l·ªõn, t·ªëi ∆∞u l·ª£i nhu·∫≠n cho ƒë·∫°i l√Ω v√† trang tr·∫°i nu√¥i.
            H·ªá gi·∫£i ph√°p k·ªπ thu·∫≠t ‚Äì t√†i ch√≠nh minh b·∫°ch theo ROI, h·ªó tr·ª£ tri·ªÉn khai t·∫°i hi·ªán tr∆∞·ªùng.
          </p>

          <div class="k-m">
            <a class="btn primary" href="#cases" aria-label="Xem h·ªì s∆° d·ª± √°n th√†nh c√¥ng">Xem H·ªì s∆° D·ª± √°n Th√†nh c√¥ng</a>
            <a class="btn ghost" href="#support" style="margin-left:10px" aria-label="Li√™n h·ªá h·ª£p t√°c">Li√™n h·ªá H·ª£p t√°c</a>
          </div>

          <div class="stats k-m">
            <div class="stat">
              <small>NƒÉng l·ª±c cung ·ª©ng</small>
              <div class="k-m"><b>> 100.000 t·∫•n/nƒÉm</b></div>
            </div>
            <div class="stat">
              <small>M·∫°ng l∆∞·ªõi ph√¢n ph·ªëi</small>
              <div class="k-m"><b>63 t·ªânh th√†nh</b></div>
            </div>
            <div class="stat">
              <small>H·ªó tr·ª£ k·ªπ thu·∫≠t</small>
              <div class="k-m"><b>24/7</b></div>
            </div>
          </div>
        </div>

        <!-- Right: Video preview -->
        <div class="card lift reveal" role="region" aria-label="Video flycam nh√† m√°y">
          <iframe
            title="Flycam nh√† m√°y"
            class="w-full"
            style="aspect-ratio:16/9; border-radius:var(--radius) var(--radius) 0 0"
            src="https://www.youtube.com/embed/1La4QzGeaaQ"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
          <div class="pad" style="padding:12px 16px">
            <div class="muted">Video flycam to√†n c·∫£nh nh√† m√°y</div>
          </div>
        </div>
      </div>

      <div class="divider"></div>
    </section>

    <!-- ========================================================
         SECTION: GI√Å TR·ªä NHANH (3 highlights)
         ======================================================== -->
    <section class="section" aria-label="Gi√° tr·ªã Kingbull">
      <div class="container">
        <div class="row col-3">
          <div class="card pad lift reveal">
            <div class="title"><span class="bar"></span><span>NƒÉng l·ª±c cung ·ª©ng l·ªõn</span></div>
            <p class="k-m muted">
              Chu·ªói s·∫£n xu·∫•t‚Äìkho‚Äìlogistics ƒë·ªìng b·ªô, giao nhanh ƒë√∫ng h·∫πn v·ªõi ƒë·ªô tin c·∫≠y cao.
            </p>
          </div>
          <div class="card pad lift reveal">
            <div class="title"><span class="bar"></span><span>T·ªëi ∆∞u l·ª£i nhu·∫≠n</span></div>
            <p class="k-m muted">
              C√¥ng th·ª©c theo ROI, t·ªëi ∆∞u FCR & v√≤ng quay v·ªën, minh b·∫°ch d·ªØ li·ªáu v√† KPI.
            </p>
          </div>
          <div class="card pad lift reveal">
            <div class="title"><span class="bar"></span><span>H·ªó tr·ª£ k·ªπ thu·∫≠t 24/7</span></div>
            <p class="k-m muted">
              ƒê·ªôi ng≈© k·ªπ thu·∫≠t theo khu v·ª±c, ph·∫£n h·ªìi nhanh, onsite khi c·∫ßn ‚Äî ƒë·ªìng h√†nh tr·ªçn chu k·ª≥ nu√¥i.
            </p>
          </div>
        </div>
      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         (Ph·∫ßn 2/3 s·∫Ω ti·∫øp t·ª•c: Case Studies + Modal, Library PDF,
          Videos, Dealer Portal, Supply Map ...)
         ======================================================== -->
        <!-- ========================================================
         CASE STUDIES ‚Äî H·ªì s∆° d·ª± √°n nu√¥i th√†nh c√¥ng
         ======================================================== -->
    <section id="cases" class="section" aria-label="H·ªì s∆° d·ª± √°n nu√¥i th√†nh c√¥ng">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>H·ªì s∆° d·ª± √°n nu√¥i th√†nh c√¥ng</span></div>
        <div class="title-underline k-m reveal"></div>
        <p class="muted k-m reveal">
          Danh s√°ch d·ª± √°n th·ª±c t·∫ø v·ªõi d·ªØ li·ªáu ROI minh b·∫°ch: h√¨nh ·∫£nh, video, nh·∫≠n x√©t c·ªßa ch·ªß tr·∫°i, chi ph√≠ & l·ª£i nhu·∫≠n.
        </p>

        <!-- B·ªô l·ªçc -->
        <div class="k-m3 reveal" role="group" aria-label="B·ªô l·ªçc Case Study" style="display:flex;flex-wrap:wrap;gap:14px">
          <label style="min-width:220px;flex:1 1 220px">
            <span>Lo√†i nu√¥i</span>
            <select id="caseFilter" aria-label="Ch·ªçn lo√†i nu√¥i">
              <!-- JS s·∫Ω fill: T·∫•t c·∫£, C√° tra, C√° r√¥ phi, C√° l√≥c, ... -->
            </select>
          </label>

          <label class="w-full max-w-600" style="flex:2 1 320px">
            <span>T√¨m nhanh theo t√™n d·ª± √°n (t√πy ch·ªçn)</span>
            <input id="caseSearch" type="search" placeholder="Nh·∫≠p v√†i k√Ω t·ª± ƒë·ªÉ l·ªçc nhanh..." aria-label="T√¨m ki·∫øm d·ª± √°n"/>
          </label>

          <div class="pill" id="caseCount" aria-live="polite">0 d·ª± √°n</div>
        </div>

        <!-- Danh s√°ch th·∫ª d·ª± √°n -->
        <div class="row col-3 k-m3" id="caseList" aria-live="polite">
          <!-- JS s·∫Ω render card:
            - ·∫¢nh ao nu√¥i
            - T√™n d·ª± √°n + pill lo√†i
            - Di·ªán t√≠ch, chu k·ª≥, s·∫£n l∆∞·ª£ng, FCR
            - 3 √¥: Doanh thu, Chi ph√≠ th·ª©c ƒÉn, ROI
            - N√∫t "Xem chi ti·∫øt" (m·ªü modal)
          -->
          <noscript>
            <div class="card pad">
              Vui l√≤ng b·∫≠t JavaScript ƒë·ªÉ xem danh s√°ch d·ª± √°n v√† t√≠nh ROI.
            </div>
          </noscript>
        </div>

        <!-- G·ª£i √Ω h√†nh ƒë·ªông -->
        <div class="k-m2 reveal" style="display:flex;gap:12px;flex-wrap:wrap">
          <a class="btn primary" href="#support">ƒê·∫∑t l·ªãch trao ƒë·ªïi k·ªπ thu·∫≠t</a>
          <a class="btn ghost" href="#logistics">T√≠nh Logistics & Kho b√£i</a>
        </div>
      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         TECHNICAL PDF LIBRARY ‚Äî Th∆∞ vi·ªán k·ªπ thu·∫≠t chuy√™n s√¢u
         ======================================================== -->
    <section id="library" class="section" aria-label="Th∆∞ vi·ªán k·ªπ thu·∫≠t chuy√™n s√¢u">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>Th∆∞ vi·ªán k·ªπ thu·∫≠t chuy√™n s√¢u</span></div>
        <div class="title-underline k-m reveal"></div>
        <p class="muted k-m reveal">
          T√†i li·ªáu PDF t·∫£i xu·ªëng: t·ªëi ∆∞u FCR, ph√≤ng b·ªánh, qu·∫£n l√Ω m√¥i tr∆∞·ªùng n∆∞·ªõc, t·ªëi ∆∞u v√≤ng quay v·ªën. L·ªçc theo <b>lo√†i nu√¥i</b>,
          <b>giai ƒëo·∫°n</b> v√† <b>m·ª•c ti√™u k·ªπ thu·∫≠t</b>.
        </p>

        <!-- B·ªô l·ªçc 3 c·ªôt -->
        <div class="row col-3 k-m3 reveal" style="gap:14px">
          <label><span>Lo√†i</span><select id="pdfSpecies" aria-label="Ch·ªçn lo√†i"></select></label>
          <label><span>Giai ƒëo·∫°n</span><select id="pdfStage" aria-label="Ch·ªçn giai ƒëo·∫°n"></select></label>
          <label><span>M·ª•c ti√™u k·ªπ thu·∫≠t</span><select id="pdfGoal" aria-label="Ch·ªçn m·ª•c ti√™u"></select></label>
        </div>

        <!-- Danh s√°ch PDF -->
        <div class="row col-3 k-m3" id="pdfList" aria-live="polite">
          <!-- JS render: card ti√™u ƒë·ªÅ + badge meta + n√∫t t·∫£i -->
          <noscript>
            <div class="card pad">Vui l√≤ng b·∫≠t JavaScript ƒë·ªÉ duy·ªát v√† t·∫£i t√†i li·ªáu PDF.</div>
          </noscript>
        </div>

        <!-- G·ª£i √Ω -->
        <div class="k-m2 reveal">
          <div class="card pad">
            <b>M·∫πo:</b>
            <ul class="muted k-m" style="line-height:1.9">
              <li>T·∫£i t√†i li·ªáu ph√π h·ª£p lo√†i & giai ƒëo·∫°n ƒëang nu√¥i ƒë·ªÉ ƒëi·ªÅu ch·ªânh <b>FCR</b> v√† <b>chi·∫øn l∆∞·ª£c cho ƒÉn</b>.</li>
              <li>K·∫øt h·ª£p d·ªØ li·ªáu m√¥i tr∆∞·ªùng n∆∞·ªõc ƒë·ªÉ h·∫°n ch·∫ø r·ªßi ro <b>NH‚ÇÉ/NH‚ÇÑ‚Å∫</b>, <b>NO‚ÇÇ‚Åª</b>, t·∫£o b√πng ph√°t.</li>
              <li>Xem th√™m c√°c case study th·ª±c t·∫ø ƒë·ªÉ cross-check <b>ROI</b>.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         VIDEO ‚Äî Quy tr√¨nh s·∫£n xu·∫•t & nƒÉng l·ª±c nh√† m√°y
         ======================================================== -->
    <section id="videos" class="section" aria-label="Video quy tr√¨nh s·∫£n xu·∫•t & nƒÉng l·ª±c nh√† m√°y">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>Video quy tr√¨nh s·∫£n xu·∫•t & nƒÉng l·ª±c nh√† m√°y</span></div>
        <div class="title-underline k-m reveal"></div>

        <!-- Danh s√°ch video -->
        <div class="row col-3 k-m3" id="videoList" aria-live="polite">
          <!-- JS render: th·∫ª video iframe + ti√™u ƒë·ªÅ -->
          <noscript>
            <div class="card pad">Vui l√≤ng b·∫≠t JavaScript ƒë·ªÉ xem video.</div>
          </noscript>
        </div>

        <!-- Gallery ·∫£nh ch·∫•t l∆∞·ª£ng cao -->
        <div class="row col-4 k-m3 reveal" style="grid-template-columns:repeat(4,1fr)">
          <img class="lift" style="border-radius:var(--radius);aspect-ratio:16/9;object-fit:cover;border:1px solid var(--stroke)"
               alt="Kho l·∫°nh Kingbull" src="https://images.unsplash.com/photo-1541911087797-f89237bd95d6?q=80&w=1200&auto=format&fit=crop" />
          <img class="lift" style="border-radius:var(--radius);aspect-ratio:16/9;object-fit:cover;border:1px solid var(--stroke)"
               alt="Container xu·∫•t h√†ng" src="https://images.unsplash.com/photo-1544989164-31dc3c645987?q=80&w=1200&auto=format&fit=crop" />
          <img class="lift" style="border-radius:var(--radius);aspect-ratio:16/9;object-fit:cover;border:1px solid var(--stroke)"
               alt="Ki·ªÉm ƒë·ªãnh ch·∫•t l∆∞·ª£ng" src="https://images.unsplash.com/photo-1581090700227-1e37b190418e?q=80&w=1200&auto=format&fit=crop" />
          <img class="lift" style="border-radius:var(--radius);aspect-ratio:16/9;object-fit:cover;border:1px solid var(--stroke)"
               alt="D√¢y chuy·ªÅn s·∫£n xu·∫•t" src="https://images.unsplash.com/photo-1581093588401-a1b1a1c5381e?q=80&w=1200&auto=format&fit=crop" />
        </div>

        <!-- CTA -->
        <div class="k-m2 reveal" style="display:flex;gap:12px;flex-wrap:wrap">
          <a class="btn primary" href="#dealer">V√†o khu v·ª±c ƒê·∫°i l√Ω</a>
          <a class="btn ghost" href="#supply">Xem b·∫£n ƒë·ªì cung ·ª©ng</a>
        </div>
      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         DEALER PORTAL ‚Äî Khu v·ª±c ƒë·∫°i l√Ω & trang tr·∫°i (mock login)
         ======================================================== -->
    <section id="dealer" class="section" aria-label="Khu v·ª±c d√†nh cho ƒë·∫°i l√Ω & trang tr·∫°i">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>Khu v·ª±c D√†nh cho ƒê·∫°i l√Ω & Trang tr·∫°i</span></div>
        <div class="title-underline k-m reveal"></div>
        <p class="muted k-m reveal">
          N·ªôi dung b·∫£o v·ªá b·∫±ng ƒëƒÉng nh·∫≠p (m√¥ ph·ªèng): <b>b·∫£ng gi√° s·ªë l∆∞·ª£ng l·ªõn</b>, <b>ch√≠nh s√°ch chi·∫øt kh·∫•u</b>, <b>t√†i li·ªáu hu·∫•n luy·ªán k·ªπ thu·∫≠t</b>, video training.
          D√πng m√£ truy c·∫≠p: <code>KINGBULL2025</code>.
        </p>

        <!-- H·ªôp render form/login & n·ªôi dung sau ƒëƒÉng nh·∫≠p -->
        <div id="dealerBox" class="k-m3 reveal" aria-live="polite">
          <!-- JS s·∫Ω render:
            - Form: Email, M√£ truy c·∫≠p, N√∫t ƒëƒÉng nh·∫≠p
            - Khi ƒë√∫ng m√£ & email h·ª£p l·ªá -> hi·ªÉn th·ªã danh s√°ch t√†i li·ªáu + video training
          -->
          <noscript>
            <div class="card pad">
              Vui l√≤ng b·∫≠t JavaScript ƒë·ªÉ ƒëƒÉng nh·∫≠p v√† xem t√†i li·ªáu n·ªôi b·ªô.
            </div>
          </noscript>
        </div>

        <!-- L∆∞u √Ω b·∫£o m·∫≠t -->
        <div class="k-m2 reveal">
          <div class="card pad">
            <b>L∆∞u √Ω:</b> ƒê√¢y l√† m√¥ ph·ªèng giao di·ªán b·∫£o m·∫≠t ‚Äî d·ªØ li·ªáu n·ªôi b·ªô th·∫≠t s·∫Ω ƒë∆∞·ª£c l∆∞u tr·ªØ v√† ki·ªÉm so√°t ·ªü h·ªá th·ªëng ri√™ng.
          </div>
        </div>
      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         SUPPLY MAP ‚Äî B·∫£n ƒë·ªì nƒÉng l·ª±c cung ·ª©ng (Leaflet)
         ======================================================== -->
    <section id="supply" class="section" aria-label="B·∫£n ƒë·ªì nƒÉng l·ª±c cung ·ª©ng">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>B·∫£n ƒë·ªì nƒÉng l·ª±c cung ·ª©ng</span></div>
        <div class="title-underline k-m reveal"></div>
        <p class="muted k-m reveal">
          Hi·ªÉn th·ªã v√πng ph√¢n ph·ªëi, kho b√£i & th·ªùi gian giao h√†ng d·ª± ki·∫øn (m√¥ ph·ªèng). L·ªçc theo khu v·ª±c ƒë·ªÉ xem c√°c ƒëi·ªÉm kho/v√πng giao ch√≠nh.
        </p>

        <!-- B·ªô l·ªçc khu v·ª±c -->
        <div class="k-m3 reveal" style="display:flex;flex-wrap:wrap;gap:14px;align-items:flex-end">
          <label style="min-width:220px;flex:1 1 220px">
            <span>Khu v·ª±c</span>
            <select id="regionFilter" aria-label="Ch·ªçn khu v·ª±c">
              <option>T·∫•t c·∫£</option>
              <option>ƒêBSCL</option>
              <option>Mi·ªÅn Nam</option>
              <option>Mi·ªÅn Trung</option>
              <option>Mi·ªÅn B·∫Øc</option>
            </select>
          </label>

          <!-- Legend -->
          <div class="pill" aria-hidden="true">‚óè Kho trung t√¢m</div>
          <div class="pill" aria-hidden="true" style="background:#0EA4E820;color:#cfe4ff;border-color:#0EA4E866">‚óè ƒêi·ªÉm giao</div>
        </div>

        <!-- B·∫£n ƒë·ªì -->
        <div class="k-m3 reveal">
          <div id="leafletMap" class="lift"
               style="min-height:480px;border-radius:var(--radius);border:1px solid var(--stroke);overflow:hidden"></div>
        </div>

        <!-- G·ª£i √Ω s·ª≠ d·ª•ng -->
        <div class="k-m2 reveal">
          <div class="card pad">
            <div class="row col-3">
              <div>
                <b>Ph√≥ng to/thu nh·ªè</b>
                <p class="muted k-m">D√πng n√∫t +/‚àí tr√™n b·∫£n ƒë·ªì ƒë·ªÉ xem chi ti·∫øt kho & ƒëi·ªÉm giao.</p>
              </div>
              <div>
                <b>Xem popup</b>
                <p class="muted k-m">Nh·∫•p v√†o bi·ªÉu t∆∞·ª£ng ƒë·ªÉ xem t√™n kho, khu v·ª±c ho·∫∑c t√™n ƒëi·ªÉm giao.</p>
              </div>
              <div>
                <b>K·∫øt h·ª£p Logistics</b>
                <p class="muted k-m">V√†o m·ª•c <a href="#logistics">T√≠nh Logistics</a> ƒë·ªÉ ∆∞·ªõc s·ªë chuy·∫øn & th·ªùi gian giao t·ª´ kho t·ªëi ∆∞u.</p>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         (PH·∫¶N 3/3 s·∫Ω ti·∫øp t·ª•c: H·ªó tr·ª£ 24/7, Logistics, Tin t·ª©c,
          H·ª£p t√°c R&D, Footer, Modal, Scripts)
         ======================================================== -->
    <!-- ========================================================
         SUPPORT ‚Äî H·ªó tr·ª£ k·ªπ thu·∫≠t 24/7
         ======================================================== -->
    <section id="support" class="section" aria-label="H·ªó tr·ª£ k·ªπ thu·∫≠t 24/7">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>H·ªó tr·ª£ k·ªπ thu·∫≠t 24/7</span></div>
        <div class="title-underline k-m reveal"></div>

        <div class="row col-3 k-m3">
          <div class="card pad lift reveal" role="region" aria-label="K√™nh li√™n h·ªá nhanh">
            <b>Li√™n h·ªá nhanh</b>
            <p class="muted k-m">K·∫øt n·ªëi tr·ª±c ti·∫øp ƒë·ªôi k·ªπ thu·∫≠t theo khu v·ª±c.</p>
            <div class="k-m" style="display:grid;gap:10px">
              <a class="btn primary" href="tel:+84587085649" aria-label="G·ªçi hotline k·ªπ thu·∫≠t">G·ªçi Hotline k·ªπ thu·∫≠t</a>
              <a class="btn ghost" href="https://zalo.me/0587085649" target="_blank" rel="noreferrer">Chat Zalo OA</a>
              <a class="btn ghost" href="mailto:admin@kingbull.com.vn">G·ª≠i Email</a>
            </div>
            <div class="k-m muted">
              <div><b>ƒê·ªãa ch·ªâ:</b> T·∫ßng 6, s·ªë 41, CMT8, P. C√°i Kh·∫ø, C·∫ßn Th∆°</div>
              <div><b>ƒêi·ªán tho·∫°i:</b> 058.708.5649</div>
              <div><b>Email:</b> admin@kingbull.com.vn</div>
            </div>
          </div>

          <form id="supportForm" class="card pad lift reveal" aria-label="Form ƒë·∫∑t l·ªãch h·∫πn v·ªõi chuy√™n gia">
            <b>ƒê·∫∑t l·ªãch h·∫πn v·ªõi chuy√™n gia</b>
            <div class="row col-2 k-m2">
              <label><span>H·ªç t√™n</span><input required id="spName" placeholder="Nguy·ªÖn VƒÉn A" /></label>
              <label><span>S·ªë ƒëi·ªán tho·∫°i</span><input required id="spPhone" placeholder="09xx xxx xxx" /></label>
              <label><span>Khu v·ª±c</span>
                <select required id="spRegion">
                  <option value="">Ch·ªçn</option>
                  <option>ƒêBSCL</option>
                  <option>Mi·ªÅn Nam</option>
                  <option>Mi·ªÅn Trung</option>
                  <option>Mi·ªÅn B·∫Øc</option>
                </select>
              </label>
              <label><span>Ghi ch√∫</span><input id="spNote" placeholder="Quy m√¥ tr·∫°i, lo√†i nu√¥i..." /></label>
            </div>
            <div class="k-m2"><button class="btn green" type="submit">ƒê·∫∑t l·ªãch</button></div>
            <div id="supportMsg" class="muted k-m" role="status" aria-live="polite"></div>
          </form>

          <div class="card pad lift reveal" role="region" aria-label="K·ªπ thu·∫≠t vi√™n theo khu v·ª±c">
            <b>K·ªπ thu·∫≠t vi√™n theo khu v·ª±c</b>
            <ul class="k-m muted" id="techList" style="line-height:1.9">
              <!-- JS render -->
            </ul>
          </div>
        </div>
      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         LOGISTICS ‚Äî C√¥ng c·ª• T√≠nh Logistics & Kho b√£i
         ======================================================== -->
    <section id="logistics" class="section" aria-label="C√¥ng c·ª• T√≠nh Logistics & Kho b√£i">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>C√¥ng c·ª• T√≠nh Logistics & Kho b√£i</span></div>
        <div class="title-underline k-m reveal"></div>

        <form id="logiForm" class="card pad k-m3 lift reveal" style="max-width:980px" aria-label="Form t√≠nh logistics">
          <div class="row col-3">
            <label><span>S·ªë l∆∞·ª£ng (t·∫•n)</span><input type="number" min="1" id="qtyTon" value="50" required /></label>
            <label><span>ƒê·ªãa ƒëi·ªÉm giao</span><select id="destSelect" aria-label="Ch·ªçn ƒëi·ªÉm giao"></select></label>
            <label><span>∆Øu ti√™n</span>
              <select id="prio">
                <option value="fast">Nhanh nh·∫•t</option>
                <option value="cheap">Chi ph√≠ th·∫•p</option>
              </select>
            </label>
          </div>
          <div class="k-m2"><button class="btn primary" type="submit" style="width:100%">T√≠nh m√¥ ph·ªèng</button></div>
          <div id="logiResult" class="row col-4 k-m3" style="display:none"></div>
        </form>
      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         NEWS ‚Äî Tin t·ª©c ng√†nh & ph√¢n t√≠ch th·ªã tr∆∞·ªùng
         ======================================================== -->
    <section id="news" class="section" aria-label="Tin t·ª©c ng√†nh & ph√¢n t√≠ch th·ªã tr∆∞·ªùng">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>Tin t·ª©c ng√†nh & ph√¢n t√≠ch th·ªã tr∆∞·ªùng</span></div>
        <div class="title-underline k-m reveal"></div>

        <div class="k-m3 reveal" style="display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end">
          <label style="min-width:240px;flex:1 1 240px">
            <span>Ch·ªß ƒë·ªÅ</span><select id="newsFilter" aria-label="Ch·ªçn ch·ªß ƒë·ªÅ"></select>
          </label>
          <label style="min-width:260px;flex:2 1 320px">
            <span>T√¨m ki·∫øm</span><input id="newsSearch" placeholder="Nh·∫≠p t·ª´ kh√≥a, v√≠ d·ª•: 'b·ªôt c√°', 'xu·∫•t kh·∫©u'..." />
          </label>
          <div class="pill" id="newsCount" aria-live="polite">0 b√†i</div>
        </div>

        <div class="row col-3 k-m3" id="newsList" aria-live="polite">
          <noscript><div class="card pad">Vui l√≤ng b·∫≠t JavaScript ƒë·ªÉ xem tin t·ª©c.</div></noscript>
        </div>
      </div>
      <div class="divider"></div>
    </section>

    <!-- ========================================================
         R&D ‚Äî Ch∆∞∆°ng tr√¨nh h·ª£p t√°c R&D
         ======================================================== -->
    <section id="rd" class="section" aria-label="Ch∆∞∆°ng tr√¨nh h·ª£p t√°c R&D">
      <div class="container">
        <div class="title reveal"><span class="bar"></span><span>Ch∆∞∆°ng tr√¨nh h·ª£p t√°c R&D</span></div>
        <div class="title-underline k-m reveal"></div>

        <div class="row col-2 k-m3">
          <div class="card pad lift reveal" role="region" aria-label="Gi·ªõi thi·ªáu R&D">
            <b>Gi·ªõi thi·ªáu</b>
            <ul class="k-m muted" style="line-height:1.9">
              <li>ƒê·ªìng ph√°t tri·ªÉn c√¥ng th·ª©c theo lo√†i/giai ƒëo·∫°n, t·ªëi ∆∞u FCR v√† chi ph√≠.</li>
              <li>Th·ª≠ nghi·ªám th·ª±c ƒë·ªãa c√≥ gi√°m s√°t, KPI minh b·∫°ch, b√°o c√°o ƒë·ªãnh k·ª≥.</li>
              <li>Chia s·∫ª d·ªØ li·ªáu (·∫©n danh), c√¥ng b·ªë khoa h·ªçc c√πng ƒë·ªëi t√°c.</li>
            </ul>
          </div>

          <form id="rdForm" class="card pad lift reveal" aria-label="Form ƒëƒÉng k√Ω h·ª£p t√°c R&D">
            <b>ƒêƒÉng k√Ω h·ª£p t√°c</b>
            <label class="k-m2"><span>T·ªï ch·ª©c/ƒê∆°n v·ªã</span><input required id="rdOrg" placeholder="Vi·ªán/Tr∆∞·ªùng/Doanh nghi·ªáp" /></label>
            <label class="k-m"><span>Ng∆∞·ªùi li√™n h·ªá</span><input required id="rdContact" placeholder="H·ªç t√™n & Email" /></label>
            <label class="k-m"><span>ƒê·ªÅ xu·∫•t ng·∫Øn g·ªçn</span><textarea required id="rdProposal" rows="5" placeholder="M·ª•c ti√™u, quy m√¥, th·ªùi gian..."></textarea></label>
            <div class="k-m2"><button class="btn green" type="submit">G·ª≠i ƒë·ªÅ xu·∫•t</button></div>
            <div id="rdMsg" class="muted k-m" role="status" aria-live="polite"></div>
          </form>
        </div>
      </div>
      <div class="divider"></div>
    </section>

  </main>

  <!-- ========================================================
       FOOTER
       ======================================================== -->
  <footer class="section" aria-label="Ch√¢n trang">
    <div class="container">
      <div class="row col-3">
        <div>
          <div class="brand"><div class="mark"><span class="a" style="color:var(--kb-blue)">KING</span><span class="b" style="color:var(--kb-green)">BULL</span></div></div>
          <div class="muted k-m">‚Äúƒê·ªôt ph√° tƒÉng tr∆∞·ªüng, d·∫´n ƒë·∫ßu l·ª£i nhu·∫≠n‚Äù</div>
        </div>
        <div class="muted">
          <div><b>Doanh nghi·ªáp:</b> C√îNG TY TNHH KINGBULL VI·ªÜT NAM</div>
          <div><b>MST:</b> 1801608521</div>
          <div><b>ƒê·ªãa ch·ªâ:</b> T·∫ßng 6, s·ªë 41, CMT8, P. C√°i Kh·∫ø, TP C·∫ßn Th∆°, Vi·ªát Nam</div>
        </div>
        <div class="muted">
          <div><b>Email:</b> admin@kingbull.com.vn</div>
          <div><b>ƒêi·ªán tho·∫°i:</b> 058.708.5649</div>
          <div class="k-m" style="display:flex;gap:10px;flex-wrap:wrap">
            <a class="btn ghost" href="tel:+84587085649">Hotline</a>
            <a class="btn ghost" href="https://zalo.me/0587085649" target="_blank" rel="noreferrer">Zalo OA</a>
          </div>
        </div>
      </div>
      <div class="muted k-m2">¬© <span id="year"></span> KINGBULL Vi·ªát Nam. All rights reserved.</div>
    </div>
  </footer>

  <!-- ========================================================
       MODAL (Case Detail)
       ======================================================== -->
  <div id="modal" class="modal" aria-modal="true" role="dialog" hidden
       style="position:fixed;inset:0;background:rgba(9,12,20,.55);display:none;align-items:flex-start;justify-content:center;padding:40px;z-index:1200">
    <div class="panel" style="max-width:980px;width:100%;border-radius:18px;background:#0f1d33;border:1px solid var(--stroke);
                               max-height:calc(100vh - 80px); overflow:auto; box-shadow:var(--shadow-3)">
      <div class="pad" style="display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--stroke);position:sticky;top:0;background:#0f1d33;z-index:1">
        <div>
          <b id="mdTitle">Chi ti·∫øt d·ª± √°n</b>
          <div class="muted" id="mdSub"></div>
        </div>
        <button class="btn ghost" id="mdClose" aria-label="ƒê√≥ng">ƒê√≥ng</button>
      </div>
      <div id="mdBody" class="pad"></div>
    </div>
  </div>

  <!-- ========================================================
       SCRIPTS
       ======================================================== -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    /* ------------------------------------------------------------
       DATA (dummy theo t√†i li·ªáu)
       ------------------------------------------------------------ */
    const CASE_STUDIES = [
      { id:1, name:"Ao nu√¥i c√° tra A1 - C·∫ßn Th∆°", species:"C√° tra", areaHa:5, cycleDays:180, harvestTons:600, fcr:1.5, feedCostPerKg:12000, pricePerKg:25000, started:"2024-03-01", finished:"2024-08-30",
        images:["https://images.unsplash.com/photo-1593262109328-154f3fb9d29f?q=80&w=1200&auto=format&fit=crop"],
        video:"https://www.youtube.com/embed/1La4QzGeaaQ", ownerNote:"Th·ª©c ƒÉn ·ªïn ƒë·ªãnh, tƒÉng tr∆∞·ªüng ƒë·ªìng ƒë·ªÅu, t·ª∑ l·ªá s·ªëng cao." },
      { id:2, name:"R√¥ phi si√™u th√¢m canh - Long An", species:"C√° r√¥ phi", areaHa:2.5, cycleDays:150, harvestTons:220, fcr:1.35, feedCostPerKg:11500, pricePerKg:32000, started:"2024-02-15", finished:"2024-07-20",
        images:["https://images.unsplash.com/photo-1576765608610-5f4e01aa12c4?q=80&w=1200&auto=format&fit=crop"],
        video:"https://www.youtube.com/embed/aqz-KE-bpKQ", ownerNote:"T·ªëi ∆∞u FCR, gi·∫£m hao h·ª•t nh·ªù qu·∫£n tr·ªã n∆∞·ªõc t·ªët." },
      { id:3, name:"C√° l√≥c th∆∞∆°ng ph·∫©m - An Giang", species:"C√° l√≥c", areaHa:1.2, cycleDays:120, harvestTons:95, fcr:1.6, feedCostPerKg:12500, pricePerKg:38000, started:"2024-04-10", finished:"2024-08-10",
        images:["https://images.unsplash.com/photo-1517837016564-bfcf7a7c89d6?q=80&w=1200&auto=format&fit=crop"],
        video:"https://www.youtube.com/embed/oUFJJNQGwhk", ownerNote:"TƒÉng tr∆∞·ªüng nhanh, m√†u th·ªãt ƒë·∫πp, ƒë·∫ßu ra ·ªïn ƒë·ªãnh." }
    ];

    const PDF_LIBRARY = [
      { id:"pdf1", title:"T·ªëi ∆∞u FCR theo giai ƒëo·∫°n", species:"C√° tra", stage:"TƒÉng tr∆∞·ªüng", goal:"T·ªëi ∆∞u chi ph√≠",
        url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
      { id:"pdf2", title:"Ph√≤ng b·ªánh th∆∞·ªùng g·∫∑p m√πa m∆∞a", species:"C√° r√¥ phi", stage:"Ph√≤ng b·ªánh", goal:"An to√†n sinh h·ªçc",
        url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
      { id:"pdf3", title:"Qu·∫£n l√Ω m√¥i tr∆∞·ªùng n∆∞·ªõc ao ƒë·∫•t", species:"C√° l√≥c", stage:"M√¥i tr∆∞·ªùng", goal:"·ªîn ƒë·ªãnh nƒÉng su·∫•t",
        url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
      { id:"pdf4", title:"T·ªëi ∆∞u v√≤ng quay v·ªën (360¬∞)", species:"C√° tra", stage:"T√†i ch√≠nh", goal:"T·ªëi ∆∞u v·ªën",
        url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" },
    ];

    const VIDEO_GALLERY = [
      { id:"v1", title:"Flycam to√†n c·∫£nh nh√† m√°y", src:"https://www.youtube.com/embed/1La4QzGeaaQ" },
      { id:"v2", title:"D√¢y chuy·ªÅn s·∫£n xu·∫•t t·ª± ƒë·ªông", src:"https://www.youtube.com/embed/aqz-KE-bpKQ" },
      { id:"v3", title:"Kho l·∫°nh & container xu·∫•t", src:"https://www.youtube.com/embed/oUFJJNQGwhk" },
    ];

    const WAREHOUSES = [
      { id:"dc1", name:"C·∫ßn Th∆° DC", region:"ƒêBSCL", lat:10.045, lng:105.746 },
      { id:"dc2", name:"Long An DC", region:"ƒêBSCL", lat:10.695, lng:106.242 },
      { id:"dc3", name:"H·ªì Ch√≠ Minh Hub", region:"Mi·ªÅn Nam", lat:10.823, lng:106.629 },
      { id:"dc4", name:"Nha Trang Node", region:"Mi·ªÅn Trung", lat:12.238, lng:109.196 },
      { id:"dc5", name:"H·∫£i Ph√≤ng Port", region:"Mi·ªÅn B·∫Øc", lat:20.861, lng:106.683 },
    ];

    const DESTINATIONS = [
      { id:"dst1", name:"An Giang (c√° tra)", region:"ƒêBSCL", lat:10.375, lng:105.420 },
      { id:"dst2", name:"B·∫°c Li√™u (t√¥m/c√°)", region:"ƒêBSCL", lat:9.294, lng:105.727 },
      { id:"dst3", name:"C√† Mau (t√¥m/c√°)", region:"ƒêBSCL", lat:9.176, lng:105.152 },
      { id:"dst4", name:"Qu·∫£ng Nam (c√° r√¥ phi)", region:"Mi·ªÅn Trung", lat:15.573, lng:108.474 },
      { id:"dst5", name:"H·∫£i D∆∞∆°ng (c√° l√≥c)", region:"Mi·ªÅn B·∫Øc", lat:20.938, lng:106.320 },
    ];

    const TECHNICIANS = [
      { region:"ƒêBSCL", name:"Tr·∫ßn Qu·ªëc B·∫£o", phone:"0903 000 111" },
      { region:"Mi·ªÅn Nam", name:"Nguy·ªÖn H·∫£i ƒêƒÉng", phone:"0904 222 333" },
      { region:"Mi·ªÅn Trung", name:"Ph·∫°m Thanh H√≤a", phone:"0905 444 555" },
      { region:"Mi·ªÅn B·∫Øc", name:"L√™ VƒÉn Ki√™n", phone:"0906 666 777" },
    ];

    const NEWS = [
      { id:"n1", tag:"Gi√° nguy√™n li·ªáu", title:"B·ªôt c√° ·ªïn ƒë·ªãnh, d·∫ßu ƒë·∫≠u n√†nh tƒÉng nh·∫π",
        date:"2025-07-28", excerpt:"Gi√° d·∫ßu ƒë·∫≠u n√†nh tƒÉng 2.1% do ngu·ªìn cung th·∫Øt ch·∫∑t; b·ªôt c√° gi·ªØ m·ª©c ·ªïn ƒë·ªãnh theo qu√Ω." },
      { id:"n2", tag:"Xu·∫•t kh·∫©u", title:"Nhu c·∫ßu th·ªã tr∆∞·ªùng Trung ƒê√¥ng tƒÉng",
        date:"2025-07-15", excerpt:"C√°c nh√† nh·∫≠p kh·∫©u tƒÉng ƒë∆°n h√†ng d√≤ng premium; y√™u c·∫ßu ch·ª©ng nh·∫≠n truy xu·∫•t ngu·ªìn g·ªëc." },
      { id:"n3", tag:"D·ªãch b·ªánh", title:"C·∫£nh b√°o Vibrio v√πng ven bi·ªÉn mi·ªÅn Trung",
        date:"2025-06-30", excerpt:"Khuy·∫øn ngh·ªã tƒÉng c∆∞·ªùng s√°t tr√πng, qu·∫£n tr·ªã t·∫£o, b·ªï sung probiotics giai ƒëo·∫°n chuy·ªÉn m√πa." },
      { id:"n4", tag:"Xu·∫•t kh·∫©u", title:"Th·ªã tr∆∞·ªùng EU m·ªü l·∫°i quota c√° tra ch·∫ø bi·∫øn",
        date:"2025-06-20", excerpt:"Quota th√≠ ƒëi·ªÉm 6 th√°ng, ki·ªÉm so√°t kh√°ng sinh ch·∫∑t ch·∫Ω, truy xu·∫•t full-chain." },
    ];

    /* ------------------------------------------------------------
       HELPERS
       ------------------------------------------------------------ */
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const fmtVND = n => (Math.round(n)).toLocaleString("vi-VN")+" ‚Ç´";
    const ceil = Math.ceil;
    const clamp = (v, min, max) => Math.max(min, Math.min(max, v));

    function distanceKm(a,b){
      const toRad = d=>d*Math.PI/180, R=6371;
      const dLat = toRad(b.lat - a.lat), dLng = toRad(b.lng - a.lng);
      const s1 = Math.sin(dLat/2)**2 + Math.cos(toRad(a.lat))*Math.cos(toRad(b.lat))*Math.sin(dLng/2)**2;
      return 2*R*Math.atan2(Math.sqrt(s1), Math.sqrt(1-s1));
    }

    /* ------------------------------------------------------------
       NAV behaviors: active highlight + mobile select + shrink header
       ------------------------------------------------------------ */
    function setupActiveNav(){
      const ids = ["home","cases","library","videos","dealer","supply","support","logistics","news","rd"];
      const sections = ids.map(id=>$("#"+id));
      const navLinks = $$(".nav-link");
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            const id = e.target.id;
            navLinks.forEach(a => a.setAttribute("aria-current", a.getAttribute("href")==="#"+id ? "page" : "false"));
          }
        });
      }, {rootMargin:"-52% 0px -48% 0px", threshold:[0,.25,.5,.75,1]});
      sections.forEach(s=> io.observe(s));

      $("#mobileSelect").addEventListener("change",(e)=> location.hash = e.target.value);
    }
    function setupScrollFX(){
      const navbar = $("#navbar");
      const heroTitle = $("#heroTitle");
      window.addEventListener("scroll", ()=>{
        const y = window.scrollY || document.documentElement.scrollTop;
        navbar.classList.toggle("shrink", y>10);
        const amt = clamp(y/420, 0, 1);
        heroTitle.style.transform = `translateY(${amt*6}px)`;
        heroTitle.style.opacity = String(1 - amt*0.15);
      }, {passive:true});
    }
    function setupReveal(){
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add("inview"); io.unobserve(e.target); } });
      }, {rootMargin:"-10% 0px -10% 0px", threshold: 0.12});
      $$(".reveal").forEach(el=> io.observe(el));
    }

    /* ------------------------------------------------------------
       CASE STUDIES: render + filters + modal
       ------------------------------------------------------------ */
    function renderCaseStudies(){
      const speciesList = ["T·∫•t c·∫£", ...new Set(CASE_STUDIES.map(c=>c.species))];
      const spSel = $("#caseFilter");
      speciesList.forEach(s=> spSel.append(new Option(s,s)));
      const search = $("#caseSearch");
      spSel.addEventListener("change", draw);
      search.addEventListener("input", draw);
      draw();

      function draw(){
        const f = spSel.value || "T·∫•t c·∫£";
        const q = (search.value || "").toLowerCase().trim();
        const data = CASE_STUDIES.filter(x=>
          (f==="T·∫•t c·∫£" || x.species===f) &&
          (q==="" || x.name.toLowerCase().includes(q))
        );
        $("#caseCount").textContent = `${data.length} d·ª± √°n`;
        const wrap = $("#caseList"); wrap.innerHTML="";
        data.forEach(item=>{
          const revenue = item.harvestTons*1000*item.pricePerKg;
          const feedCost = item.harvestTons*1000*item.fcr*item.feedCostPerKg;
          const net = revenue - feedCost; const roi = net/feedCost*100;

          const d=document.createElement("div"); d.className="card pad lift reveal";
          d.innerHTML = `
            <img class="w-full" style="aspect-ratio:16/9;border-radius:12px;object-fit:cover;border:1px solid var(--stroke)" src="${item.images[0]}" alt="Ao nu√¥i - ${item.name}">
            <div class="k-m"><b>${item.name}</b> <span class="pill">${item.species}</span></div>
            <div class="k-m muted">Di·ªán t√≠ch: <b>${item.areaHa} ha</b> ‚Ä¢ Chu k·ª≥: <b>${item.cycleDays} ng√†y</b> ‚Ä¢ S·∫£n l∆∞·ª£ng: <b>${item.harvestTons} t·∫•n</b> ‚Ä¢ FCR: <b>${item.fcr}</b></div>
            <div class="row col-3 k-m">
              <div class="card pad-sm"><small class="muted">Doanh thu</small><div><b>${fmtVND(revenue)}</b></div></div>
              <div class="card pad-sm"><small class="muted">Chi ph√≠ th·ª©c ƒÉn</small><div><b>${fmtVND(feedCost)}</b></div></div>
              <div class="card pad-sm"><small class="muted">ROI</small><div><b>${roi.toFixed(1)}%</b></div></div>
            </div>
            <div class="k-m2"><button class="btn primary" data-open="${item.id}">Xem chi ti·∫øt</button></div>
          `;
          wrap.appendChild(d);
        });
        wrap.querySelectorAll("[data-open]").forEach(btn=>{
          btn.addEventListener("click", ()=>{
            const item = CASE_STUDIES.find(c=>c.id==btn.dataset.open);
            openCaseModal(item);
          });
        });
      }
    }

    function openCaseModal(item){
      $("#mdTitle").textContent = item.name;
      $("#mdSub").textContent = `${item.species} ‚Ä¢ ${item.started} ‚Üí ${item.finished}`;
      const revenue = item.harvestTons*1000*item.pricePerKg;
      const feedCost = item.harvestTons*1000*item.fcr*item.feedCostPerKg;
      const net = revenue - feedCost; const roi = net/feedCost*100;
      $("#mdBody").innerHTML = `
        <div class="grid" style="grid-template-columns:1fr; gap:0">
          <iframe title="Video - ${item.name}" style="width:100%; aspect-ratio:16/9; border:0"
            src="${item.video}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          <div class="pad">
            <div class="muted">${item.ownerNote}</div>
            <div class="row col-2 k-m2">
              <div class="card pad-sm"><small class="muted">Doanh thu</small><div><b>${fmtVND(revenue)}</b></div></div>
              <div class="card pad-sm"><small class="muted">Chi ph√≠ th·ª©c ƒÉn</small><div><b>${fmtVND(feedCost)}</b></div></div>
              <div class="card pad-sm"><small class="muted">L·ª£i nhu·∫≠n (∆∞·ªõc)</small><div><b>${fmtVND(net)}</b></div></div>
              <div class="card pad-sm"><small class="muted">ROI</small><div><b>${roi.toFixed(1)}%</b></div></div>
            </div>
            <div class="k-m2">
              <b>Ghi ch√∫ k·ªπ thu·∫≠t</b>
              <ul class="k-m muted" style="line-height:1.9">
                <li>Qu·∫£n tr·ªã oxy h√≤a tan > 5 mg/L; cho ƒÉn theo ƒë∆∞·ªùng cong tƒÉng tr∆∞·ªüng.</li>
                <li>ƒêi·ªÅu ch·ªânh FCR theo c·ª° c√°; b·ªï sung enzymes & probiotics khi chuy·ªÉn c·ª°.</li>
                <li>Theo d√µi NH‚ÇÉ/NH‚ÇÑ‚Å∫, NO‚ÇÇ‚Åª; ƒë·ªô ki·ªÅm 80‚Äì120 mg/L.</li>
              </ul>
            </div>
          </div>
        </div>
      `;
      const modal = $("#modal"); modal.hidden=false; modal.style.display="flex"; $("#mdClose").focus();
    }
    $("#mdClose").addEventListener("click", closeModal);
    $("#modal").addEventListener("click", (e)=>{ if(e.target.id==="modal") closeModal(); });
    document.addEventListener("keydown", e=>{ if(e.key==="Escape") closeModal(); });
    function closeModal(){ const modal=$("#modal"); modal.style.display="none"; modal.hidden=true; }

    /* ------------------------------------------------------------
       PDF LIBRARY
       ------------------------------------------------------------ */
    function renderPDF(){
      const species = ["T·∫•t c·∫£", ...new Set(PDF_LIBRARY.map(x=>x.species))];
      const stages  = ["T·∫•t c·∫£", ...new Set(PDF_LIBRARY.map(x=>x.stage))];
      const goals   = ["T·∫•t c·∫£", ...new Set(PDF_LIBRARY.map(x=>x.goal))];
      const sp=$("#pdfSpecies"), st=$("#pdfStage"), go=$("#pdfGoal");
      species.forEach(v=>sp.append(new Option(v,v)));
      stages.forEach(v=>st.append(new Option(v,v)));
      goals.forEach(v=>go.append(new Option(v,v)));
      sp.addEventListener("change",draw); st.addEventListener("change",draw); go.addEventListener("change",draw);
      draw();

      function draw(){
        const f1=sp.value||"T·∫•t c·∫£", f2=st.value||"T·∫•t c·∫£", f3=go.value||"T·∫•t c·∫£";
        const data = PDF_LIBRARY.filter(x=>
          (f1==="T·∫•t c·∫£"||x.species===f1) && (f2==="T·∫•t c·∫£"||x.stage===f2) && (f3==="T·∫•t c·∫£"||x.goal===f3)
        );
        const wrap=$("#pdfList"); wrap.innerHTML="";
        data.forEach(x=>{
          const d=document.createElement("div"); d.className="card pad lift reveal";
          d.innerHTML=`<b>${x.title}</b>
          <div class="k-m" style="display:flex;gap:6px;flex-wrap:wrap">
            <span class="pill">${x.species}</span><span class="pill">${x.stage}</span><span class="pill">${x.goal}</span>
          </div>
          <div class="k-m"><a class="btn primary" href="${x.url}" target="_blank" download>T·∫£i PDF</a></div>`;
          wrap.appendChild(d);
        });
      }
    }

    /* ------------------------------------------------------------
       VIDEO
       ------------------------------------------------------------ */
    function renderVideos(){
      const wrap=$("#videoList"); wrap.innerHTML="";
      VIDEO_GALLERY.forEach(v=>{
        const c=document.createElement("div"); c.className="card pad lift reveal";
        c.innerHTML = `
          <iframe title="${v.title}" style="width:100%; aspect-ratio:16/9; border:0" src="${v.src}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          <div class="k-m"><b>${v.title}</b></div>`;
        wrap.appendChild(c);
      });
    }

    /* ------------------------------------------------------------
       DEALER (mock)
       ------------------------------------------------------------ */
    function renderDealer(){
      const box=$("#dealerBox"); box.innerHTML="";
      const state = { logged:false };
      draw();
      function draw(){
        box.innerHTML="";
        if(!state.logged){
          const f=document.createElement("form"); f.className="card pad lift reveal"; f.innerHTML = `
            <b>ƒêƒÉng nh·∫≠p</b>
            <label class="k-m2"><span>Email</span><input type="email" id="dlEmail" required placeholder="you@company.com" /></label>
            <label class="k-m"><span>M√£ truy c·∫≠p</span><input type="password" id="dlCode" required placeholder="KINGBULL2025" /></label>
            <div id="dlMsg" class="muted k-m" role="status"></div>
            <div class="k-m2"><button class="btn primary" type="submit">ƒêƒÉng nh·∫≠p</button></div>`;
          f.addEventListener("submit",e=>{
            e.preventDefault();
            const ok = $("#dlCode").value.trim().toUpperCase()==="KINGBULL2025" && $("#dlEmail").value.includes("@");
            if(ok){ state.logged=true; draw(); } else { $("#dlMsg").textContent="M√£ truy c·∫≠p ho·∫∑c email kh√¥ng h·ª£p l·ªá."; }
          });
          box.appendChild(f);
        } else {
          const g=document.createElement("div"); g.className="row col-2";
          g.innerHTML = `
            <div class="card pad lift reveal">
              <b>T√†i li·ªáu n·ªôi b·ªô</b>
              <ul class="k-m muted" style="line-height:1.9">
                <li><a href="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" target="_blank">B·∫£ng gi√° s·ªë l∆∞·ª£ng l·ªõn (PDF)</a></li>
                <li><a href="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" target="_blank">Ch√≠nh s√°ch chi·∫øt kh·∫•u (PDF)</a></li>
                <li><a href="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" target="_blank">T√†i li·ªáu hu·∫•n luy·ªán k·ªπ thu·∫≠t (PDF)</a></li>
              </ul>
            </div>
            <div class="card pad lift reveal">
              <b>Video Training</b>
              <ul class="k-m muted" style="line-height:1.9">
                <li><a href="https://www.youtube.com/watch?v=aqz-KE-bpKQ" target="_blank" rel="noreferrer">Ph·ªëi tr·ªôn & ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng</a></li>
                <li><a href="https://www.youtube.com/watch?v=oUFJJNQGwhk" target="_blank" rel="noreferrer">V·∫≠n h√†nh kho l·∫°nh & an to√†n</a></li>
              </ul>
            </div>`;
          box.appendChild(g);
        }
      }
    }

    /* ------------------------------------------------------------
       MAP (Leaflet)
       ------------------------------------------------------------ */
    let mapInstance=null, layerGroup=null;
    function initMapOnce(){
      if(mapInstance) return;
      mapInstance = L.map('leafletMap').setView([10.5,106],6);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19, attribution:'&copy; OpenStreetMap'}).addTo(mapInstance);
      layerGroup = L.layerGroup().addTo(mapInstance);
      drawMap();
      $("#regionFilter").addEventListener("change", drawMap);
    }
    function drawMap(){
      const region = $("#regionFilter").value || "T·∫•t c·∫£";
      layerGroup.clearLayers();
      WAREHOUSES.filter(w => region==="T·∫•t c·∫£" || w.region===region).forEach(w=>{
        const mk = L.marker([w.lat,w.lng]).addTo(layerGroup); mk.bindPopup(`<b>${w.name}</b><br/>Khu v·ª±c: ${w.region}`);
      });
      DESTINATIONS.filter(d => region==="T·∫•t c·∫£" || d.region===region).forEach(d=>{
        const mk = L.circleMarker([d.lat,d.lng],{radius:8,color:"#0EA4E8"}).addTo(layerGroup);
        mk.bindPopup(`<b>${d.name}</b><br/>Khu v·ª±c: ${d.region}`);
      });
    }

    /* ------------------------------------------------------------
       SUPPORT form + technician list
       ------------------------------------------------------------ */
    $("#supportForm").addEventListener("submit", e=>{
      e.preventDefault();
      $("#supportMsg").textContent = "ƒê√£ nh·∫≠n y√™u c·∫ßu! K·ªπ thu·∫≠t vi√™n khu v·ª±c s·∫Ω li√™n h·ªá s·ªõm.";
    });
    function renderTechs(){
      const ul = $("#techList"); ul.innerHTML="";
      TECHNICIANS.forEach(t=>{
        const li = document.createElement("li");
        li.innerHTML = `<b>${t.region}</b>: ${t.name} ‚Äî ${t.phone}`;
        ul.appendChild(li);
      });
    }

    /* ------------------------------------------------------------
       LOGISTICS calculator
       ------------------------------------------------------------ */
    function renderLogistics(){
      const destSel = $("#destSelect"); DESTINATIONS.forEach(d=>destSel.append(new Option(d.name,d.id)));
      $("#logiForm").addEventListener("submit", e=>{
        e.preventDefault();
        const qty = Math.max(1, Number($("#qtyTon").value||0));
        const dest = DESTINATIONS.find(d=>d.id===destSel.value);
        let best=null, bestD=Infinity;

        // ∆∞u ti√™n nhanh: ch·ªçn kho g·∫ßn nh·∫•t; ∆∞u ti√™n r·∫ª: ∆∞u ti√™n kho ƒêBSCL n·∫øu c√πng mi·ªÅn, r·ªìi kho·∫£ng c√°ch
        const prio = $("#prio").value;

        if(prio==="cheap"){
          const candidates = WAREHOUSES
            .map(w=>({w, d:distanceKm({lat:w.lat,lng:w.lng},{lat:dest.lat,lng:dest.lng})}))
            .sort((a,b)=> a.d-b.d);
          // ∆∞u ti√™n ƒêBSCL n·∫øu ƒëi·ªÉm ·ªü ƒêBSCL
          if(dest.region==="ƒêBSCL"){
            const m = candidates.find(c=>c.w.region==="ƒêBSCL") || candidates[0];
            best = m.w; bestD = m.d;
          } else {
            best = candidates[0].w; bestD = candidates[0].d;
          }
        } else {
          WAREHOUSES.forEach(w=>{ const d=distanceKm({lat:w.lat,lng:w.lng},{lat:dest.lat,lng:dest.lng}); if(d<bestD){bestD=d; best=w;} });
        }

        const capacityPerContainerTon = 25;
        const trips = ceil(qty / capacityPerContainerTon);
        const avgSpeedKmPerHour = 45;
        const hours = bestD/avgSpeedKmPerHour + 2; // +2h thao t√°c b·ªëc x·∫øp
        const etaDays = Math.max(1, Math.round(hours/8));
        const estCostPerKm = prio==="cheap" ? 18_000 : 20_000; // ƒë/ km (m√¥ ph·ªèng)
        const estCost = Math.round(bestD * estCostPerKm * trips);

        const R=$("#logiResult"); R.style.display="grid"; R.innerHTML="";
        [
          {label:"Kho xu·∫•t ph√°t", value:best.name},
          {label:"Khu v·ª±c kho", value:best.region},
          {label:"Kho·∫£ng c√°ch (km)", value:Math.round(bestD)},
          {label:"S·ªë chuy·∫øn (∆∞·ªõc)", value:trips},
          {label:"Th·ªùi gian giao (ng√†y)", value:etaDays},
          {label:"Chi ph√≠ v·∫≠n chuy·ªÉn (∆∞·ªõc)", value:fmtVND(estCost)},
        ].forEach(s=>{
          const c=document.createElement("div"); c.className="card pad lift reveal";
          c.innerHTML=`<small class="muted">${s.label}</small><div class="k-m"><b>${s.value}</b></div>`;
          R.appendChild(c);
        });
      });
    }

    /* ------------------------------------------------------------
       NEWS render + filters
       ------------------------------------------------------------ */
    function renderNews(){
      const tags = ["T·∫•t c·∫£", ...new Set(NEWS.map(n=>n.tag))];
      const nf = $("#newsFilter"); tags.forEach(t=>nf.append(new Option(t,t)));
      const ns = $("#newsSearch");
      nf.addEventListener("change", draw);
      ns.addEventListener("input", draw);
      draw();

      function draw(){
        const f = nf.value || "T·∫•t c·∫£";
        const q = (ns.value||"").toLowerCase().trim();
        const data = NEWS.filter(n=>
          (f==="T·∫•t c·∫£" || n.tag===f) && (q==="" || (n.title+n.excerpt).toLowerCase().includes(q))
        );
        $("#newsCount").textContent = `${data.length} b√†i`;
        const wrap=$("#newsList"); wrap.innerHTML="";
        data.forEach(n=>{
          const c=document.createElement("div"); c.className="card pad lift reveal";
          c.innerHTML=`<div style="display:flex;justify-content:space-between;align-items:center">
            <span class="pill">${n.tag}</span><span class="muted">${n.date}</span></div>
            <div class="k-m"><b>${n.title}</b></div>
            <div class="muted">${n.excerpt}</div>`;
          wrap.appendChild(c);
        });
      }
    }

    /* ------------------------------------------------------------
       R&D form
       ------------------------------------------------------------ */
    $("#rdForm").addEventListener("submit", e=>{
      e.preventDefault();
      $("#rdMsg").textContent = "ƒê√£ nh·∫≠n th√¥ng tin! Ch√∫ng t√¥i s·∫Ω ph·∫£n h·ªìi qua email.";
    });

    /* ------------------------------------------------------------
       BOOT
       ------------------------------------------------------------ */
    function init(){
      setupActiveNav();
      setupScrollFX();
      setupReveal();

      renderCaseStudies();
      renderPDF();
      renderVideos();
      renderDealer();
      renderTechs();
      renderLogistics();
      renderNews();

      // Map lazy-load: khi t·ªõi g·∫ßn khu v·ª±c supply
      const mapSection = $("#supply");
      const io = new IntersectionObserver((entries)=>{
        if(entries.some(e=>e.isIntersecting)){ initMapOnce(); io.disconnect(); }
      }, {rootMargin:"0px 0px -30% 0px"});
      io.observe(mapSection);

      // Footer year
      $("#year").textContent = new Date().getFullYear();

      // Anchor fix cho mobile select n·∫øu m·ªü b·∫±ng hash
      if(location.hash){ const el = $(location.hash); if(el) el.scrollIntoView(); }
    }
    document.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>

